#ifndef COMMUNICATION_H
#define COMMUNICATION_H

#include "common.h"

#define EAST 0x1
#define N_EAST 0x2
#define NORTH 0x4
#define WEST 0x8
#define S_WEST 0x10
#define SOUTH 0x20

#define CORE(n) (1<< (n+6))


#define MGMT_BIT 0x400
#define EVDS1_XY 0x43
#define EVDS1_ENABLE 0x45
#define MOTORS_KEY ((252 << 24) | (255 << 16))

#define MOTOR_MIN 1500
#define MOTOR_MAX 2500
#define MOTOR_DELTA ((MOTOR_MAX - MOTOR_MIN) / 2)

#define MOTOR_X_CENTER	2150
#define MOTOR_Y_CENTER	2000//1970

#define ERROR_MSG (uint)(0xA0000000) // format - key [ A (4) - 0 (4) - x (8) - 0 (8) - y (8)] payload : [ error (32) ]
#define UPD_MSG (uint)(0xC0000000) // format - key: [ C (2) - signs (4) - index (6) - v_x (10) - v_y (10)] payload : [theta (16) - psi (16)] Note that values are positive integers (v * 10000)
#define SAVE_MSG 52



void initIO(uint chipID, uint coreID);
void startDevices(uint chipID, uint coreID);
void stopDevices();

void sendNormMotorCommand(float x, float y);
void sendMotorCommand(uint motor_x, uint motor_y);


#endif
